# GitHubにCommitと同時にCodepipelineが作動するCICD

## プロジェクト概要

本プロジェクトは、AWS CodePipelineとCodeBuildを用いて、**GitHubへのコミットをトリガーとしたCI/CDパイプラインを構築し、EC2インスタンスへのローリングデプロイを実現する**

---

## 主な機能と技術スタック

### 機能

* **GitHub連携**: GitHubへのコードプッシュを自動的に検知し、CI/CDパイプラインをトリガーします。
* **自動ビルド**: AWS CodeBuildを用いて、アプリケーションコードをビルドし、デプロイ可能な成果物を作成します。
* **ローリングデプロイ**: EC2インスタンスに対し、段階的に新しいバージョンを展開するローリングデプロイメント戦略を採用。これにより、デプロイ中のサービス停止時間を最小限に抑え、リスクを低減します。
* **IaCによるインフラ管理**: すべてのAWSリソースはTerraformで定義されており、インフラのバージョン管理、再現性、および監査可能性を確保します。

### 技術スタック

* **CI/CDパイプライン**: AWS CodePipeline, AWS CodeBuild, AWS CodeDeploy
* **インフラストラクチャ**: AWS EC2, AWS S3, AWS IAM
* **インフラ定義**: Terraform
* **バージョン管理**: Git, GitHub

---

## プロジェクトのデモンストレーション (構築後)

このプロジェクトをデプロイすると、以下のフローが自動で実行されます。

1.  開発者が`rukiita/rolling_deploy`リポジトリの`main`ブランチにコードをプッシュします。
2.  AWS CodePipelineがGitHubの変更を検知し、パイプラインが自動的に開始されます。
3.  CodeBuildがアプリケーションコード（例: `buildspec.yml`に定義された手順）を実行し、デプロイ用のアーティファクトを作成します。
4.  CodeDeployが、事前に定義されたデプロイグループ内のEC2インスタンスに対して、ローリングアップデート方式で新しいアプリケーションバージョンをデプロイします。
5.  デプロイ完了後、EC2インスタンス上で最新のアプリケーションが稼働します。

---

## アピールポイント

* **クラウドインフラストラクチャ構築**: AWSサービス（EC2, CodePipeline, CodeBuild, CodeDeploy, S3, IAM）を用いた実践的なインフラ構築経験。
* **Infrastructure as Code**: Terraformを用いた宣言的なインフラ定義の能力と、そのメリット（再現性、変更管理、コラボレーション）への深い理解。
* **CI/CDパイプラインの設計・実装**: 継続的インテグレーションと継続的デリバリーの原則に基づいた、堅牢なパイプラインの設計および実装スキル。
* **デプロイメント戦略の理解**: ローリングデプロイといった高度なデプロイメント戦略を導入し、ダウンタイムを最小限に抑えながらシステムを更新する能力。
* **GitOpsプラクティス**: バージョン管理システム（GitHub）を中心とした自動化されたインフラ・アプリケーションデプロイメントへの理解と実践。

---

## 構築手順（参考）

本プロジェクトをゼロから構築するための大まかな手順です。

1.  AWSアカウントの準備とTerraformのインストール。
2.  必要なIAMロールとポリシーの作成。
3.  VPC、サブネット、セキュリティグループなどネットワークインフラのTerraform定義。
4.  EC2インスタンスの起動設定（AMI, インスタンスタイプ, IAMロールなど）。
5.  CodePipeline、CodeBuild、CodeDeployの設定をTerraformで記述。
6.  `terraform init`, `terraform plan`, `terraform apply` を実行し、AWSリソースをプロビジョニング。
7.  アプリケーションコードをGitHubリポジトリにプッシュし、パイプラインの動作を確認。

---
